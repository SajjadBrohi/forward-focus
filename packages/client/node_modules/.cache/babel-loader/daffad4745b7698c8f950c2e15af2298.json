{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WebSocketTransport = void 0;\n\nconst ws_1 = __importDefault(require(\"ws\"));\n\nclass WebSocketTransport {\n  constructor(ws) {\n    this._ws = ws;\n\n    this._ws.addEventListener('message', event => {\n      if (this.onmessage) this.onmessage.call(null, event.data);\n    });\n\n    this._ws.addEventListener('close', () => {\n      if (this.onclose) this.onclose.call(null);\n    }); // Silently ignore all errors - we don't know what to do with them.\n\n\n    this._ws.addEventListener('error', () => {});\n\n    this.onmessage = null;\n    this.onclose = null;\n  }\n\n  static create(url) {\n    return new Promise((resolve, reject) => {\n      const ws = new ws_1.default(url, [], {\n        perMessageDeflate: false,\n        maxPayload: 256 * 1024 * 1024\n      });\n      ws.addEventListener('open', () => resolve(new WebSocketTransport(ws)));\n      ws.addEventListener('error', reject);\n    });\n  }\n\n  send(message) {\n    this._ws.send(message);\n  }\n\n  close() {\n    this._ws.close();\n  }\n\n}\n\nexports.WebSocketTransport = WebSocketTransport;","map":{"version":3,"sources":["C:/Users/Sajjad Brohi/JavaScript Projects/RESTful API/packages/client/node_modules/puppeteer/lib/cjs/puppeteer/common/WebSocketTransport.js"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","WebSocketTransport","ws_1","require","constructor","ws","_ws","addEventListener","event","onmessage","call","data","onclose","create","url","Promise","resolve","reject","default","perMessageDeflate","maxPayload","send","message","close"],"mappings":"AAAA;;AACA,IAAIA,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;AACnE,SAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;AAAE,eAAWA;AAAb,GAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,kBAAR,GAA6B,KAAK,CAAlC;;AACA,MAAMC,IAAI,GAAGR,eAAe,CAACS,OAAO,CAAC,IAAD,CAAR,CAA5B;;AACA,MAAMF,kBAAN,CAAyB;AACrBG,EAAAA,WAAW,CAACC,EAAD,EAAK;AACZ,SAAKC,GAAL,GAAWD,EAAX;;AACA,SAAKC,GAAL,CAASC,gBAAT,CAA0B,SAA1B,EAAsCC,KAAD,IAAW;AAC5C,UAAI,KAAKC,SAAT,EACI,KAAKA,SAAL,CAAeC,IAAf,CAAoB,IAApB,EAA0BF,KAAK,CAACG,IAAhC;AACP,KAHD;;AAIA,SAAKL,GAAL,CAASC,gBAAT,CAA0B,OAA1B,EAAmC,MAAM;AACrC,UAAI,KAAKK,OAAT,EACI,KAAKA,OAAL,CAAaF,IAAb,CAAkB,IAAlB;AACP,KAHD,EANY,CAUZ;;;AACA,SAAKJ,GAAL,CAASC,gBAAT,CAA0B,OAA1B,EAAmC,MAAM,CAAG,CAA5C;;AACA,SAAKE,SAAL,GAAiB,IAAjB;AACA,SAAKG,OAAL,GAAe,IAAf;AACH;;AACD,SAAOC,MAAP,CAAcC,GAAd,EAAmB;AACf,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,YAAMZ,EAAE,GAAG,IAAIH,IAAI,CAACgB,OAAT,CAAiBJ,GAAjB,EAAsB,EAAtB,EAA0B;AACjCK,QAAAA,iBAAiB,EAAE,KADc;AAEjCC,QAAAA,UAAU,EAAE,MAAM,IAAN,GAAa;AAFQ,OAA1B,CAAX;AAIAf,MAAAA,EAAE,CAACE,gBAAH,CAAoB,MAApB,EAA4B,MAAMS,OAAO,CAAC,IAAIf,kBAAJ,CAAuBI,EAAvB,CAAD,CAAzC;AACAA,MAAAA,EAAE,CAACE,gBAAH,CAAoB,OAApB,EAA6BU,MAA7B;AACH,KAPM,CAAP;AAQH;;AACDI,EAAAA,IAAI,CAACC,OAAD,EAAU;AACV,SAAKhB,GAAL,CAASe,IAAT,CAAcC,OAAd;AACH;;AACDC,EAAAA,KAAK,GAAG;AACJ,SAAKjB,GAAL,CAASiB,KAAT;AACH;;AA/BoB;;AAiCzBxB,OAAO,CAACE,kBAAR,GAA6BA,kBAA7B","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WebSocketTransport = void 0;\nconst ws_1 = __importDefault(require(\"ws\"));\nclass WebSocketTransport {\n    constructor(ws) {\n        this._ws = ws;\n        this._ws.addEventListener('message', (event) => {\n            if (this.onmessage)\n                this.onmessage.call(null, event.data);\n        });\n        this._ws.addEventListener('close', () => {\n            if (this.onclose)\n                this.onclose.call(null);\n        });\n        // Silently ignore all errors - we don't know what to do with them.\n        this._ws.addEventListener('error', () => { });\n        this.onmessage = null;\n        this.onclose = null;\n    }\n    static create(url) {\n        return new Promise((resolve, reject) => {\n            const ws = new ws_1.default(url, [], {\n                perMessageDeflate: false,\n                maxPayload: 256 * 1024 * 1024,\n            });\n            ws.addEventListener('open', () => resolve(new WebSocketTransport(ws)));\n            ws.addEventListener('error', reject);\n        });\n    }\n    send(message) {\n        this._ws.send(message);\n    }\n    close() {\n        this._ws.close();\n    }\n}\nexports.WebSocketTransport = WebSocketTransport;\n"]},"metadata":{},"sourceType":"script"}