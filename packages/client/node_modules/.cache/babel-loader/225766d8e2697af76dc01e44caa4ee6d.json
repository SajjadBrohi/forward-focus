{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2017 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst os = __importStar(require(\"os\"));\n\nconst path = __importStar(require(\"path\"));\n\nconst http = __importStar(require(\"http\"));\n\nconst https = __importStar(require(\"https\"));\n\nconst URL = __importStar(require(\"url\"));\n\nconst fs = __importStar(require(\"fs\"));\n\nconst BrowserFetcher_js_1 = require(\"./BrowserFetcher.js\");\n\nconst Connection_js_1 = require(\"../common/Connection.js\");\n\nconst Browser_js_1 = require(\"../common/Browser.js\");\n\nconst assert_js_1 = require(\"../common/assert.js\");\n\nconst helper_js_1 = require(\"../common/helper.js\");\n\nconst WebSocketTransport_js_1 = require(\"../common/WebSocketTransport.js\");\n\nconst BrowserRunner_js_1 = require(\"./BrowserRunner.js\");\n\nconst util_1 = require(\"util\");\n\nconst mkdtempAsync = util_1.promisify(fs.mkdtemp);\nconst writeFileAsync = util_1.promisify(fs.writeFile);\n/**\n * @internal\n */\n\nclass ChromeLauncher {\n  constructor(projectRoot, preferredRevision, isPuppeteerCore) {\n    this._projectRoot = projectRoot;\n    this._preferredRevision = preferredRevision;\n    this._isPuppeteerCore = isPuppeteerCore;\n  }\n\n  async launch(options = {}) {\n    const {\n      ignoreDefaultArgs = false,\n      args = [],\n      dumpio = false,\n      executablePath = null,\n      pipe = false,\n      env = process.env,\n      handleSIGINT = true,\n      handleSIGTERM = true,\n      handleSIGHUP = true,\n      ignoreHTTPSErrors = false,\n      defaultViewport = {\n        width: 800,\n        height: 600\n      },\n      slowMo = 0,\n      timeout = 30000\n    } = options;\n    const profilePath = path.join(os.tmpdir(), 'puppeteer_dev_chrome_profile-');\n    const chromeArguments = [];\n    if (!ignoreDefaultArgs) chromeArguments.push(...this.defaultArgs(options));else if (Array.isArray(ignoreDefaultArgs)) chromeArguments.push(...this.defaultArgs(options).filter(arg => !ignoreDefaultArgs.includes(arg)));else chromeArguments.push(...args);\n    let temporaryUserDataDir = null;\n    if (!chromeArguments.some(argument => argument.startsWith('--remote-debugging-'))) chromeArguments.push(pipe ? '--remote-debugging-pipe' : '--remote-debugging-port=0');\n\n    if (!chromeArguments.some(arg => arg.startsWith('--user-data-dir'))) {\n      temporaryUserDataDir = await mkdtempAsync(profilePath);\n      chromeArguments.push(`--user-data-dir=${temporaryUserDataDir}`);\n    }\n\n    let chromeExecutable = executablePath;\n\n    if (os.arch() === 'arm64') {\n      chromeExecutable = '/usr/bin/chromium-browser';\n    } else if (!executablePath) {\n      const {\n        missingText,\n        executablePath\n      } = resolveExecutablePath(this);\n      if (missingText) throw new Error(missingText);\n      chromeExecutable = executablePath;\n    }\n\n    const usePipe = chromeArguments.includes('--remote-debugging-pipe');\n    const runner = new BrowserRunner_js_1.BrowserRunner(chromeExecutable, chromeArguments, temporaryUserDataDir);\n    runner.start({\n      handleSIGHUP,\n      handleSIGTERM,\n      handleSIGINT,\n      dumpio,\n      env,\n      pipe: usePipe\n    });\n\n    try {\n      const connection = await runner.setupConnection({\n        usePipe,\n        timeout,\n        slowMo,\n        preferredRevision: this._preferredRevision\n      });\n      const browser = await Browser_js_1.Browser.create(connection, [], ignoreHTTPSErrors, defaultViewport, runner.proc, runner.close.bind(runner));\n      await browser.waitForTarget(t => t.type() === 'page');\n      return browser;\n    } catch (error) {\n      runner.kill();\n      throw error;\n    }\n  }\n  /**\n   * @param {!Launcher.ChromeArgOptions=} options\n   * @returns {!Array<string>}\n   */\n\n\n  defaultArgs(options = {}) {\n    const chromeArguments = ['--disable-background-networking', '--enable-features=NetworkService,NetworkServiceInProcess', '--disable-background-timer-throttling', '--disable-backgrounding-occluded-windows', '--disable-breakpad', '--disable-client-side-phishing-detection', '--disable-component-extensions-with-background-pages', '--disable-default-apps', '--disable-dev-shm-usage', '--disable-extensions', '--disable-features=TranslateUI', '--disable-hang-monitor', '--disable-ipc-flooding-protection', '--disable-popup-blocking', '--disable-prompt-on-repost', '--disable-renderer-backgrounding', '--disable-sync', '--force-color-profile=srgb', '--metrics-recording-only', '--no-first-run', '--enable-automation', '--password-store=basic', '--use-mock-keychain'];\n    const {\n      devtools = false,\n      headless = !devtools,\n      args = [],\n      userDataDir = null\n    } = options;\n    if (userDataDir) chromeArguments.push(`--user-data-dir=${userDataDir}`);\n    if (devtools) chromeArguments.push('--auto-open-devtools-for-tabs');\n\n    if (headless) {\n      chromeArguments.push('--headless', '--hide-scrollbars', '--mute-audio');\n    }\n\n    if (args.every(arg => arg.startsWith('-'))) chromeArguments.push('about:blank');\n    chromeArguments.push(...args);\n    return chromeArguments;\n  }\n\n  executablePath() {\n    return resolveExecutablePath(this).executablePath;\n  }\n\n  get product() {\n    return 'chrome';\n  }\n\n  async connect(options) {\n    const {\n      browserWSEndpoint,\n      browserURL,\n      ignoreHTTPSErrors = false,\n      defaultViewport = {\n        width: 800,\n        height: 600\n      },\n      transport,\n      slowMo = 0\n    } = options;\n    assert_js_1.assert(Number(!!browserWSEndpoint) + Number(!!browserURL) + Number(!!transport) === 1, 'Exactly one of browserWSEndpoint, browserURL or transport must be passed to puppeteer.connect');\n    let connection = null;\n\n    if (transport) {\n      connection = new Connection_js_1.Connection('', transport, slowMo);\n    } else if (browserWSEndpoint) {\n      const connectionTransport = await WebSocketTransport_js_1.WebSocketTransport.create(browserWSEndpoint);\n      connection = new Connection_js_1.Connection(browserWSEndpoint, connectionTransport, slowMo);\n    } else if (browserURL) {\n      const connectionURL = await getWSEndpoint(browserURL);\n      const connectionTransport = await WebSocketTransport_js_1.WebSocketTransport.create(connectionURL);\n      connection = new Connection_js_1.Connection(connectionURL, connectionTransport, slowMo);\n    }\n\n    const {\n      browserContextIds\n    } = await connection.send('Target.getBrowserContexts');\n    return Browser_js_1.Browser.create(connection, browserContextIds, ignoreHTTPSErrors, defaultViewport, null, () => connection.send('Browser.close').catch(helper_js_1.debugError));\n  }\n\n}\n/**\n * @internal\n */\n\n\nclass FirefoxLauncher {\n  constructor(projectRoot, preferredRevision, isPuppeteerCore) {\n    this._projectRoot = projectRoot;\n    this._preferredRevision = preferredRevision;\n    this._isPuppeteerCore = isPuppeteerCore;\n  }\n\n  async launch(options = {}) {\n    const {\n      ignoreDefaultArgs = false,\n      args = [],\n      dumpio = false,\n      executablePath = null,\n      pipe = false,\n      env = process.env,\n      handleSIGINT = true,\n      handleSIGTERM = true,\n      handleSIGHUP = true,\n      ignoreHTTPSErrors = false,\n      defaultViewport = {\n        width: 800,\n        height: 600\n      },\n      slowMo = 0,\n      timeout = 30000,\n      extraPrefsFirefox = {}\n    } = options;\n    const firefoxArguments = [];\n    if (!ignoreDefaultArgs) firefoxArguments.push(...this.defaultArgs(options));else if (Array.isArray(ignoreDefaultArgs)) firefoxArguments.push(...this.defaultArgs(options).filter(arg => !ignoreDefaultArgs.includes(arg)));else firefoxArguments.push(...args);\n    if (!firefoxArguments.some(argument => argument.startsWith('--remote-debugging-'))) firefoxArguments.push('--remote-debugging-port=0');\n    let temporaryUserDataDir = null;\n\n    if (!firefoxArguments.includes('-profile') && !firefoxArguments.includes('--profile')) {\n      temporaryUserDataDir = await this._createProfile(extraPrefsFirefox);\n      firefoxArguments.push('--profile');\n      firefoxArguments.push(temporaryUserDataDir);\n    }\n\n    await this._updateRevision();\n    let firefoxExecutable = executablePath;\n\n    if (!executablePath) {\n      const {\n        missingText,\n        executablePath\n      } = resolveExecutablePath(this);\n      if (missingText) throw new Error(missingText);\n      firefoxExecutable = executablePath;\n    }\n\n    const runner = new BrowserRunner_js_1.BrowserRunner(firefoxExecutable, firefoxArguments, temporaryUserDataDir);\n    runner.start({\n      handleSIGHUP,\n      handleSIGTERM,\n      handleSIGINT,\n      dumpio,\n      env,\n      pipe\n    });\n\n    try {\n      const connection = await runner.setupConnection({\n        usePipe: pipe,\n        timeout,\n        slowMo,\n        preferredRevision: this._preferredRevision\n      });\n      const browser = await Browser_js_1.Browser.create(connection, [], ignoreHTTPSErrors, defaultViewport, runner.proc, runner.close.bind(runner));\n      await browser.waitForTarget(t => t.type() === 'page');\n      return browser;\n    } catch (error) {\n      runner.kill();\n      throw error;\n    }\n  }\n\n  async connect(options) {\n    const {\n      browserWSEndpoint,\n      browserURL,\n      ignoreHTTPSErrors = false,\n      defaultViewport = {\n        width: 800,\n        height: 600\n      },\n      transport,\n      slowMo = 0\n    } = options;\n    assert_js_1.assert(Number(!!browserWSEndpoint) + Number(!!browserURL) + Number(!!transport) === 1, 'Exactly one of browserWSEndpoint, browserURL or transport must be passed to puppeteer.connect');\n    let connection = null;\n\n    if (transport) {\n      connection = new Connection_js_1.Connection('', transport, slowMo);\n    } else if (browserWSEndpoint) {\n      const connectionTransport = await WebSocketTransport_js_1.WebSocketTransport.create(browserWSEndpoint);\n      connection = new Connection_js_1.Connection(browserWSEndpoint, connectionTransport, slowMo);\n    } else if (browserURL) {\n      const connectionURL = await getWSEndpoint(browserURL);\n      const connectionTransport = await WebSocketTransport_js_1.WebSocketTransport.create(connectionURL);\n      connection = new Connection_js_1.Connection(connectionURL, connectionTransport, slowMo);\n    }\n\n    const {\n      browserContextIds\n    } = await connection.send('Target.getBrowserContexts');\n    return Browser_js_1.Browser.create(connection, browserContextIds, ignoreHTTPSErrors, defaultViewport, null, () => connection.send('Browser.close').catch(helper_js_1.debugError));\n  }\n\n  executablePath() {\n    return resolveExecutablePath(this).executablePath;\n  }\n\n  async _updateRevision() {\n    // replace 'latest' placeholder with actual downloaded revision\n    if (this._preferredRevision === 'latest') {\n      const browserFetcher = new BrowserFetcher_js_1.BrowserFetcher(this._projectRoot, {\n        product: this.product\n      });\n      const localRevisions = await browserFetcher.localRevisions();\n      if (localRevisions[0]) this._preferredRevision = localRevisions[0];\n    }\n  }\n\n  get product() {\n    return 'firefox';\n  }\n\n  defaultArgs(options = {}) {\n    const firefoxArguments = ['--no-remote', '--foreground'];\n\n    if (os.platform().startsWith('win')) {\n      firefoxArguments.push('--wait-for-browser');\n    }\n\n    const {\n      devtools = false,\n      headless = !devtools,\n      args = [],\n      userDataDir = null\n    } = options;\n\n    if (userDataDir) {\n      firefoxArguments.push('--profile');\n      firefoxArguments.push(userDataDir);\n    }\n\n    if (headless) firefoxArguments.push('--headless');\n    if (devtools) firefoxArguments.push('--devtools');\n    if (args.every(arg => arg.startsWith('-'))) firefoxArguments.push('about:blank');\n    firefoxArguments.push(...args);\n    return firefoxArguments;\n  }\n\n  async _createProfile(extraPrefs) {\n    const profilePath = await mkdtempAsync(path.join(os.tmpdir(), 'puppeteer_dev_firefox_profile-'));\n    const prefsJS = [];\n    const userJS = [];\n    const server = 'dummy.test';\n    const defaultPreferences = {\n      // Make sure Shield doesn't hit the network.\n      'app.normandy.api_url': '',\n      // Disable Firefox old build background check\n      'app.update.checkInstallTime': false,\n      // Disable automatically upgrading Firefox\n      'app.update.disabledForTesting': true,\n      // Increase the APZ content response timeout to 1 minute\n      'apz.content_response_timeout': 60000,\n      // Prevent various error message on the console\n      // jest-puppeteer asserts that no error message is emitted by the console\n      'browser.contentblocking.features.standard': '-tp,tpPrivate,cookieBehavior0,-cm,-fp',\n      // Enable the dump function: which sends messages to the system\n      // console\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=1543115\n      'browser.dom.window.dump.enabled': true,\n      // Disable topstories\n      'browser.newtabpage.activity-stream.feeds.section.topstories': false,\n      // Always display a blank page\n      'browser.newtabpage.enabled': false,\n      // Background thumbnails in particular cause grief: and disabling\n      // thumbnails in general cannot hurt\n      'browser.pagethumbnails.capturing_disabled': true,\n      // Disable safebrowsing components.\n      'browser.safebrowsing.blockedURIs.enabled': false,\n      'browser.safebrowsing.downloads.enabled': false,\n      'browser.safebrowsing.malware.enabled': false,\n      'browser.safebrowsing.passwords.enabled': false,\n      'browser.safebrowsing.phishing.enabled': false,\n      // Disable updates to search engines.\n      'browser.search.update': false,\n      // Do not restore the last open set of tabs if the browser has crashed\n      'browser.sessionstore.resume_from_crash': false,\n      // Skip check for default browser on startup\n      'browser.shell.checkDefaultBrowser': false,\n      // Disable newtabpage\n      'browser.startup.homepage': 'about:blank',\n      // Do not redirect user when a milstone upgrade of Firefox is detected\n      'browser.startup.homepage_override.mstone': 'ignore',\n      // Start with a blank page about:blank\n      'browser.startup.page': 0,\n      // Do not allow background tabs to be zombified on Android: otherwise for\n      // tests that open additional tabs: the test harness tab itself might get\n      // unloaded\n      'browser.tabs.disableBackgroundZombification': false,\n      // Do not warn when closing all other open tabs\n      'browser.tabs.warnOnCloseOtherTabs': false,\n      // Do not warn when multiple tabs will be opened\n      'browser.tabs.warnOnOpen': false,\n      // Disable the UI tour.\n      'browser.uitour.enabled': false,\n      // Turn off search suggestions in the location bar so as not to trigger\n      // network connections.\n      'browser.urlbar.suggest.searches': false,\n      // Disable first run splash page on Windows 10\n      'browser.usedOnWindows10.introURL': '',\n      // Do not warn on quitting Firefox\n      'browser.warnOnQuit': false,\n      // Do not show datareporting policy notifications which can\n      // interfere with tests\n      'datareporting.healthreport.about.reportUrl': `http://${server}/dummy/abouthealthreport/`,\n      'datareporting.healthreport.documentServerURI': `http://${server}/dummy/healthreport/`,\n      'datareporting.healthreport.logging.consoleEnabled': false,\n      'datareporting.healthreport.service.enabled': false,\n      'datareporting.healthreport.service.firstRun': false,\n      'datareporting.healthreport.uploadEnabled': false,\n      'datareporting.policy.dataSubmissionEnabled': false,\n      'datareporting.policy.dataSubmissionPolicyAccepted': false,\n      'datareporting.policy.dataSubmissionPolicyBypassNotification': true,\n      // DevTools JSONViewer sometimes fails to load dependencies with its require.js.\n      // This doesn't affect Puppeteer but spams console (Bug 1424372)\n      'devtools.jsonview.enabled': false,\n      // Disable popup-blocker\n      'dom.disable_open_during_load': false,\n      // Enable the support for File object creation in the content process\n      // Required for |Page.setFileInputFiles| protocol method.\n      'dom.file.createInChild': true,\n      // Disable the ProcessHangMonitor\n      'dom.ipc.reportProcessHangs': false,\n      // Disable slow script dialogues\n      'dom.max_chrome_script_run_time': 0,\n      'dom.max_script_run_time': 0,\n      // Only load extensions from the application and user profile\n      // AddonManager.SCOPE_PROFILE + AddonManager.SCOPE_APPLICATION\n      'extensions.autoDisableScopes': 0,\n      'extensions.enabledScopes': 5,\n      // Disable metadata caching for installed add-ons by default\n      'extensions.getAddons.cache.enabled': false,\n      // Disable installing any distribution extensions or add-ons.\n      'extensions.installDistroAddons': false,\n      // Disabled screenshots extension\n      'extensions.screenshots.disabled': true,\n      // Turn off extension updates so they do not bother tests\n      'extensions.update.enabled': false,\n      // Turn off extension updates so they do not bother tests\n      'extensions.update.notifyUser': false,\n      // Make sure opening about:addons will not hit the network\n      'extensions.webservice.discoverURL': `http://${server}/dummy/discoveryURL`,\n      // Allow the application to have focus even it runs in the background\n      'focusmanager.testmode': true,\n      // Disable useragent updates\n      'general.useragent.updates.enabled': false,\n      // Always use network provider for geolocation tests so we bypass the\n      // macOS dialog raised by the corelocation provider\n      'geo.provider.testing': true,\n      // Do not scan Wifi\n      'geo.wifi.scan': false,\n      // No hang monitor\n      'hangmonitor.timeout': 0,\n      // Show chrome errors and warnings in the error console\n      'javascript.options.showInConsole': true,\n      // Disable download and usage of OpenH264: and Widevine plugins\n      'media.gmp-manager.updateEnabled': false,\n      // Prevent various error message on the console\n      // jest-puppeteer asserts that no error message is emitted by the console\n      'network.cookie.cookieBehavior': 0,\n      // Do not prompt for temporary redirects\n      'network.http.prompt-temp-redirect': false,\n      // Disable speculative connections so they are not reported as leaking\n      // when they are hanging around\n      'network.http.speculative-parallel-limit': 0,\n      // Do not automatically switch between offline and online\n      'network.manage-offline-status': false,\n      // Make sure SNTP requests do not hit the network\n      'network.sntp.pools': server,\n      // Disable Flash.\n      'plugin.state.flash': 0,\n      'privacy.trackingprotection.enabled': false,\n      // Enable Remote Agent\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=1544393\n      'remote.enabled': true,\n      // Don't do network connections for mitm priming\n      'security.certerrors.mitm.priming.enabled': false,\n      // Local documents have access to all other local documents,\n      // including directory listings\n      'security.fileuri.strict_origin_policy': false,\n      // Do not wait for the notification button security delay\n      'security.notification_enable_delay': 0,\n      // Ensure blocklist updates do not hit the network\n      'services.settings.server': `http://${server}/dummy/blocklist/`,\n      // Do not automatically fill sign-in forms with known usernames and\n      // passwords\n      'signon.autofillForms': false,\n      // Disable password capture, so that tests that include forms are not\n      // influenced by the presence of the persistent doorhanger notification\n      'signon.rememberSignons': false,\n      // Disable first-run welcome page\n      'startup.homepage_welcome_url': 'about:blank',\n      // Disable first-run welcome page\n      'startup.homepage_welcome_url.additional': '',\n      // Disable browser animations (tabs, fullscreen, sliding alerts)\n      'toolkit.cosmeticAnimations.enabled': false,\n      // We want to collect telemetry, but we don't want to send in the results\n      'toolkit.telemetry.server': `https://${server}/dummy/telemetry/`,\n      // Prevent starting into safe mode after application crashes\n      'toolkit.startup.max_resumed_crashes': -1\n    };\n    Object.assign(defaultPreferences, extraPrefs);\n\n    for (const [key, value] of Object.entries(defaultPreferences)) userJS.push(`user_pref(${JSON.stringify(key)}, ${JSON.stringify(value)});`);\n\n    await writeFileAsync(path.join(profilePath, 'user.js'), userJS.join('\\n'));\n    await writeFileAsync(path.join(profilePath, 'prefs.js'), prefsJS.join('\\n'));\n    return profilePath;\n  }\n\n}\n\nfunction getWSEndpoint(browserURL) {\n  let resolve, reject;\n  const promise = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  const endpointURL = URL.resolve(browserURL, '/json/version');\n  const protocol = endpointURL.startsWith('https') ? https : http;\n  const requestOptions = Object.assign(URL.parse(endpointURL), {\n    method: 'GET'\n  });\n  const request = protocol.request(requestOptions, res => {\n    let data = '';\n\n    if (res.statusCode !== 200) {\n      // Consume response data to free up memory.\n      res.resume();\n      reject(new Error('HTTP ' + res.statusCode));\n      return;\n    }\n\n    res.setEncoding('utf8');\n    res.on('data', chunk => data += chunk);\n    res.on('end', () => resolve(JSON.parse(data).webSocketDebuggerUrl));\n  });\n  request.on('error', reject);\n  request.end();\n  return promise.catch(error => {\n    error.message = `Failed to fetch browser webSocket url from ${endpointURL}: ` + error.message;\n    throw error;\n  });\n}\n\nfunction resolveExecutablePath(launcher) {\n  let downloadPath; // puppeteer-core doesn't take into account PUPPETEER_* env variables.\n\n  if (!launcher._isPuppeteerCore) {\n    const executablePath = process.env.PUPPETEER_EXECUTABLE_PATH || process.env.npm_config_puppeteer_executable_path || process.env.npm_package_config_puppeteer_executable_path;\n\n    if (executablePath) {\n      const missingText = !fs.existsSync(executablePath) ? 'Tried to use PUPPETEER_EXECUTABLE_PATH env variable to launch browser but did not find any executable at: ' + executablePath : null;\n      return {\n        executablePath,\n        missingText\n      };\n    }\n\n    downloadPath = process.env.PUPPETEER_DOWNLOAD_PATH || process.env.npm_config_puppeteer_download_path || process.env.npm_package_config_puppeteer_download_path;\n  }\n\n  const browserFetcher = new BrowserFetcher_js_1.BrowserFetcher(launcher._projectRoot, {\n    product: launcher.product,\n    path: downloadPath\n  });\n\n  if (!launcher._isPuppeteerCore && launcher.product === 'chrome') {\n    const revision = process.env['PUPPETEER_CHROMIUM_REVISION'];\n\n    if (revision) {\n      const revisionInfo = browserFetcher.revisionInfo(revision);\n      const missingText = !revisionInfo.local ? 'Tried to use PUPPETEER_CHROMIUM_REVISION env variable to launch browser but did not find executable at: ' + revisionInfo.executablePath : null;\n      return {\n        executablePath: revisionInfo.executablePath,\n        missingText\n      };\n    }\n  }\n\n  const revisionInfo = browserFetcher.revisionInfo(launcher._preferredRevision);\n  const missingText = !revisionInfo.local ? `Could not find browser revision ${launcher._preferredRevision}. Run \"PUPPETEER_PRODUCT=firefox npm install\" or \"PUPPETEER_PRODUCT=firefox yarn install\" to download a supported Firefox browser binary.` : null;\n  return {\n    executablePath: revisionInfo.executablePath,\n    missingText\n  };\n}\n/**\n * @internal\n */\n\n\nfunction Launcher(projectRoot, preferredRevision, isPuppeteerCore, product) {\n  // puppeteer-core doesn't take into account PUPPETEER_* env variables.\n  if (!product && !isPuppeteerCore) product = process.env.PUPPETEER_PRODUCT || process.env.npm_config_puppeteer_product || process.env.npm_package_config_puppeteer_product;\n\n  switch (product) {\n    case 'firefox':\n      return new FirefoxLauncher(projectRoot, preferredRevision, isPuppeteerCore);\n\n    case 'chrome':\n    default:\n      if (typeof product !== 'undefined' && product !== 'chrome') {\n        /* The user gave us an incorrect product name\n         * we'll default to launching Chrome, but log to the console\n         * to let the user know (they've probably typoed).\n         */\n        console.warn(`Warning: unknown product name ${product}. Falling back to chrome.`);\n      }\n\n      return new ChromeLauncher(projectRoot, preferredRevision, isPuppeteerCore);\n  }\n}\n\nexports.default = Launcher;","map":{"version":3,"sources":["C:/Users/Sajjad Brohi/JavaScript Projects/RESTful API/packages/client/node_modules/puppeteer/lib/cjs/puppeteer/node/Launcher.js"],"names":["__createBinding","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","hasOwnProperty","call","exports","os","require","path","http","https","URL","fs","BrowserFetcher_js_1","Connection_js_1","Browser_js_1","assert_js_1","helper_js_1","WebSocketTransport_js_1","BrowserRunner_js_1","util_1","mkdtempAsync","promisify","mkdtemp","writeFileAsync","writeFile","ChromeLauncher","constructor","projectRoot","preferredRevision","isPuppeteerCore","_projectRoot","_preferredRevision","_isPuppeteerCore","launch","options","ignoreDefaultArgs","args","dumpio","executablePath","pipe","env","process","handleSIGINT","handleSIGTERM","handleSIGHUP","ignoreHTTPSErrors","defaultViewport","width","height","slowMo","timeout","profilePath","join","tmpdir","chromeArguments","push","defaultArgs","Array","isArray","filter","arg","includes","temporaryUserDataDir","some","argument","startsWith","chromeExecutable","arch","missingText","resolveExecutablePath","Error","usePipe","runner","BrowserRunner","start","connection","setupConnection","browser","Browser","proc","close","bind","waitForTarget","t","type","error","kill","devtools","headless","userDataDir","every","product","connect","browserWSEndpoint","browserURL","transport","assert","Number","Connection","connectionTransport","WebSocketTransport","connectionURL","getWSEndpoint","browserContextIds","send","catch","debugError","FirefoxLauncher","extraPrefsFirefox","firefoxArguments","_createProfile","_updateRevision","firefoxExecutable","browserFetcher","BrowserFetcher","localRevisions","platform","extraPrefs","prefsJS","userJS","server","defaultPreferences","assign","key","entries","JSON","stringify","resolve","reject","promise","Promise","res","rej","endpointURL","protocol","requestOptions","parse","method","request","data","statusCode","resume","setEncoding","on","chunk","webSocketDebuggerUrl","end","message","launcher","downloadPath","PUPPETEER_EXECUTABLE_PATH","npm_config_puppeteer_executable_path","npm_package_config_puppeteer_executable_path","existsSync","PUPPETEER_DOWNLOAD_PATH","npm_config_puppeteer_download_path","npm_package_config_puppeteer_download_path","revision","revisionInfo","local","Launcher","PUPPETEER_PRODUCT","npm_config_puppeteer_product","npm_package_config_puppeteer_product","console","warn","default"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright 2017 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst os = __importStar(require(\"os\"));\nconst path = __importStar(require(\"path\"));\nconst http = __importStar(require(\"http\"));\nconst https = __importStar(require(\"https\"));\nconst URL = __importStar(require(\"url\"));\nconst fs = __importStar(require(\"fs\"));\nconst BrowserFetcher_js_1 = require(\"./BrowserFetcher.js\");\nconst Connection_js_1 = require(\"../common/Connection.js\");\nconst Browser_js_1 = require(\"../common/Browser.js\");\nconst assert_js_1 = require(\"../common/assert.js\");\nconst helper_js_1 = require(\"../common/helper.js\");\nconst WebSocketTransport_js_1 = require(\"../common/WebSocketTransport.js\");\nconst BrowserRunner_js_1 = require(\"./BrowserRunner.js\");\nconst util_1 = require(\"util\");\nconst mkdtempAsync = util_1.promisify(fs.mkdtemp);\nconst writeFileAsync = util_1.promisify(fs.writeFile);\n/**\n * @internal\n */\nclass ChromeLauncher {\n    constructor(projectRoot, preferredRevision, isPuppeteerCore) {\n        this._projectRoot = projectRoot;\n        this._preferredRevision = preferredRevision;\n        this._isPuppeteerCore = isPuppeteerCore;\n    }\n    async launch(options = {}) {\n        const { ignoreDefaultArgs = false, args = [], dumpio = false, executablePath = null, pipe = false, env = process.env, handleSIGINT = true, handleSIGTERM = true, handleSIGHUP = true, ignoreHTTPSErrors = false, defaultViewport = { width: 800, height: 600 }, slowMo = 0, timeout = 30000, } = options;\n        const profilePath = path.join(os.tmpdir(), 'puppeteer_dev_chrome_profile-');\n        const chromeArguments = [];\n        if (!ignoreDefaultArgs)\n            chromeArguments.push(...this.defaultArgs(options));\n        else if (Array.isArray(ignoreDefaultArgs))\n            chromeArguments.push(...this.defaultArgs(options).filter((arg) => !ignoreDefaultArgs.includes(arg)));\n        else\n            chromeArguments.push(...args);\n        let temporaryUserDataDir = null;\n        if (!chromeArguments.some((argument) => argument.startsWith('--remote-debugging-')))\n            chromeArguments.push(pipe ? '--remote-debugging-pipe' : '--remote-debugging-port=0');\n        if (!chromeArguments.some((arg) => arg.startsWith('--user-data-dir'))) {\n            temporaryUserDataDir = await mkdtempAsync(profilePath);\n            chromeArguments.push(`--user-data-dir=${temporaryUserDataDir}`);\n        }\n        let chromeExecutable = executablePath;\n        if (os.arch() === 'arm64') {\n            chromeExecutable = '/usr/bin/chromium-browser';\n        }\n        else if (!executablePath) {\n            const { missingText, executablePath } = resolveExecutablePath(this);\n            if (missingText)\n                throw new Error(missingText);\n            chromeExecutable = executablePath;\n        }\n        const usePipe = chromeArguments.includes('--remote-debugging-pipe');\n        const runner = new BrowserRunner_js_1.BrowserRunner(chromeExecutable, chromeArguments, temporaryUserDataDir);\n        runner.start({\n            handleSIGHUP,\n            handleSIGTERM,\n            handleSIGINT,\n            dumpio,\n            env,\n            pipe: usePipe,\n        });\n        try {\n            const connection = await runner.setupConnection({\n                usePipe,\n                timeout,\n                slowMo,\n                preferredRevision: this._preferredRevision,\n            });\n            const browser = await Browser_js_1.Browser.create(connection, [], ignoreHTTPSErrors, defaultViewport, runner.proc, runner.close.bind(runner));\n            await browser.waitForTarget((t) => t.type() === 'page');\n            return browser;\n        }\n        catch (error) {\n            runner.kill();\n            throw error;\n        }\n    }\n    /**\n     * @param {!Launcher.ChromeArgOptions=} options\n     * @returns {!Array<string>}\n     */\n    defaultArgs(options = {}) {\n        const chromeArguments = [\n            '--disable-background-networking',\n            '--enable-features=NetworkService,NetworkServiceInProcess',\n            '--disable-background-timer-throttling',\n            '--disable-backgrounding-occluded-windows',\n            '--disable-breakpad',\n            '--disable-client-side-phishing-detection',\n            '--disable-component-extensions-with-background-pages',\n            '--disable-default-apps',\n            '--disable-dev-shm-usage',\n            '--disable-extensions',\n            '--disable-features=TranslateUI',\n            '--disable-hang-monitor',\n            '--disable-ipc-flooding-protection',\n            '--disable-popup-blocking',\n            '--disable-prompt-on-repost',\n            '--disable-renderer-backgrounding',\n            '--disable-sync',\n            '--force-color-profile=srgb',\n            '--metrics-recording-only',\n            '--no-first-run',\n            '--enable-automation',\n            '--password-store=basic',\n            '--use-mock-keychain',\n        ];\n        const { devtools = false, headless = !devtools, args = [], userDataDir = null, } = options;\n        if (userDataDir)\n            chromeArguments.push(`--user-data-dir=${userDataDir}`);\n        if (devtools)\n            chromeArguments.push('--auto-open-devtools-for-tabs');\n        if (headless) {\n            chromeArguments.push('--headless', '--hide-scrollbars', '--mute-audio');\n        }\n        if (args.every((arg) => arg.startsWith('-')))\n            chromeArguments.push('about:blank');\n        chromeArguments.push(...args);\n        return chromeArguments;\n    }\n    executablePath() {\n        return resolveExecutablePath(this).executablePath;\n    }\n    get product() {\n        return 'chrome';\n    }\n    async connect(options) {\n        const { browserWSEndpoint, browserURL, ignoreHTTPSErrors = false, defaultViewport = { width: 800, height: 600 }, transport, slowMo = 0, } = options;\n        assert_js_1.assert(Number(!!browserWSEndpoint) +\n            Number(!!browserURL) +\n            Number(!!transport) ===\n            1, 'Exactly one of browserWSEndpoint, browserURL or transport must be passed to puppeteer.connect');\n        let connection = null;\n        if (transport) {\n            connection = new Connection_js_1.Connection('', transport, slowMo);\n        }\n        else if (browserWSEndpoint) {\n            const connectionTransport = await WebSocketTransport_js_1.WebSocketTransport.create(browserWSEndpoint);\n            connection = new Connection_js_1.Connection(browserWSEndpoint, connectionTransport, slowMo);\n        }\n        else if (browserURL) {\n            const connectionURL = await getWSEndpoint(browserURL);\n            const connectionTransport = await WebSocketTransport_js_1.WebSocketTransport.create(connectionURL);\n            connection = new Connection_js_1.Connection(connectionURL, connectionTransport, slowMo);\n        }\n        const { browserContextIds } = await connection.send('Target.getBrowserContexts');\n        return Browser_js_1.Browser.create(connection, browserContextIds, ignoreHTTPSErrors, defaultViewport, null, () => connection.send('Browser.close').catch(helper_js_1.debugError));\n    }\n}\n/**\n * @internal\n */\nclass FirefoxLauncher {\n    constructor(projectRoot, preferredRevision, isPuppeteerCore) {\n        this._projectRoot = projectRoot;\n        this._preferredRevision = preferredRevision;\n        this._isPuppeteerCore = isPuppeteerCore;\n    }\n    async launch(options = {}) {\n        const { ignoreDefaultArgs = false, args = [], dumpio = false, executablePath = null, pipe = false, env = process.env, handleSIGINT = true, handleSIGTERM = true, handleSIGHUP = true, ignoreHTTPSErrors = false, defaultViewport = { width: 800, height: 600 }, slowMo = 0, timeout = 30000, extraPrefsFirefox = {}, } = options;\n        const firefoxArguments = [];\n        if (!ignoreDefaultArgs)\n            firefoxArguments.push(...this.defaultArgs(options));\n        else if (Array.isArray(ignoreDefaultArgs))\n            firefoxArguments.push(...this.defaultArgs(options).filter((arg) => !ignoreDefaultArgs.includes(arg)));\n        else\n            firefoxArguments.push(...args);\n        if (!firefoxArguments.some((argument) => argument.startsWith('--remote-debugging-')))\n            firefoxArguments.push('--remote-debugging-port=0');\n        let temporaryUserDataDir = null;\n        if (!firefoxArguments.includes('-profile') &&\n            !firefoxArguments.includes('--profile')) {\n            temporaryUserDataDir = await this._createProfile(extraPrefsFirefox);\n            firefoxArguments.push('--profile');\n            firefoxArguments.push(temporaryUserDataDir);\n        }\n        await this._updateRevision();\n        let firefoxExecutable = executablePath;\n        if (!executablePath) {\n            const { missingText, executablePath } = resolveExecutablePath(this);\n            if (missingText)\n                throw new Error(missingText);\n            firefoxExecutable = executablePath;\n        }\n        const runner = new BrowserRunner_js_1.BrowserRunner(firefoxExecutable, firefoxArguments, temporaryUserDataDir);\n        runner.start({\n            handleSIGHUP,\n            handleSIGTERM,\n            handleSIGINT,\n            dumpio,\n            env,\n            pipe,\n        });\n        try {\n            const connection = await runner.setupConnection({\n                usePipe: pipe,\n                timeout,\n                slowMo,\n                preferredRevision: this._preferredRevision,\n            });\n            const browser = await Browser_js_1.Browser.create(connection, [], ignoreHTTPSErrors, defaultViewport, runner.proc, runner.close.bind(runner));\n            await browser.waitForTarget((t) => t.type() === 'page');\n            return browser;\n        }\n        catch (error) {\n            runner.kill();\n            throw error;\n        }\n    }\n    async connect(options) {\n        const { browserWSEndpoint, browserURL, ignoreHTTPSErrors = false, defaultViewport = { width: 800, height: 600 }, transport, slowMo = 0, } = options;\n        assert_js_1.assert(Number(!!browserWSEndpoint) +\n            Number(!!browserURL) +\n            Number(!!transport) ===\n            1, 'Exactly one of browserWSEndpoint, browserURL or transport must be passed to puppeteer.connect');\n        let connection = null;\n        if (transport) {\n            connection = new Connection_js_1.Connection('', transport, slowMo);\n        }\n        else if (browserWSEndpoint) {\n            const connectionTransport = await WebSocketTransport_js_1.WebSocketTransport.create(browserWSEndpoint);\n            connection = new Connection_js_1.Connection(browserWSEndpoint, connectionTransport, slowMo);\n        }\n        else if (browserURL) {\n            const connectionURL = await getWSEndpoint(browserURL);\n            const connectionTransport = await WebSocketTransport_js_1.WebSocketTransport.create(connectionURL);\n            connection = new Connection_js_1.Connection(connectionURL, connectionTransport, slowMo);\n        }\n        const { browserContextIds } = await connection.send('Target.getBrowserContexts');\n        return Browser_js_1.Browser.create(connection, browserContextIds, ignoreHTTPSErrors, defaultViewport, null, () => connection.send('Browser.close').catch(helper_js_1.debugError));\n    }\n    executablePath() {\n        return resolveExecutablePath(this).executablePath;\n    }\n    async _updateRevision() {\n        // replace 'latest' placeholder with actual downloaded revision\n        if (this._preferredRevision === 'latest') {\n            const browserFetcher = new BrowserFetcher_js_1.BrowserFetcher(this._projectRoot, {\n                product: this.product,\n            });\n            const localRevisions = await browserFetcher.localRevisions();\n            if (localRevisions[0])\n                this._preferredRevision = localRevisions[0];\n        }\n    }\n    get product() {\n        return 'firefox';\n    }\n    defaultArgs(options = {}) {\n        const firefoxArguments = ['--no-remote', '--foreground'];\n        if (os.platform().startsWith('win')) {\n            firefoxArguments.push('--wait-for-browser');\n        }\n        const { devtools = false, headless = !devtools, args = [], userDataDir = null, } = options;\n        if (userDataDir) {\n            firefoxArguments.push('--profile');\n            firefoxArguments.push(userDataDir);\n        }\n        if (headless)\n            firefoxArguments.push('--headless');\n        if (devtools)\n            firefoxArguments.push('--devtools');\n        if (args.every((arg) => arg.startsWith('-')))\n            firefoxArguments.push('about:blank');\n        firefoxArguments.push(...args);\n        return firefoxArguments;\n    }\n    async _createProfile(extraPrefs) {\n        const profilePath = await mkdtempAsync(path.join(os.tmpdir(), 'puppeteer_dev_firefox_profile-'));\n        const prefsJS = [];\n        const userJS = [];\n        const server = 'dummy.test';\n        const defaultPreferences = {\n            // Make sure Shield doesn't hit the network.\n            'app.normandy.api_url': '',\n            // Disable Firefox old build background check\n            'app.update.checkInstallTime': false,\n            // Disable automatically upgrading Firefox\n            'app.update.disabledForTesting': true,\n            // Increase the APZ content response timeout to 1 minute\n            'apz.content_response_timeout': 60000,\n            // Prevent various error message on the console\n            // jest-puppeteer asserts that no error message is emitted by the console\n            'browser.contentblocking.features.standard': '-tp,tpPrivate,cookieBehavior0,-cm,-fp',\n            // Enable the dump function: which sends messages to the system\n            // console\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=1543115\n            'browser.dom.window.dump.enabled': true,\n            // Disable topstories\n            'browser.newtabpage.activity-stream.feeds.section.topstories': false,\n            // Always display a blank page\n            'browser.newtabpage.enabled': false,\n            // Background thumbnails in particular cause grief: and disabling\n            // thumbnails in general cannot hurt\n            'browser.pagethumbnails.capturing_disabled': true,\n            // Disable safebrowsing components.\n            'browser.safebrowsing.blockedURIs.enabled': false,\n            'browser.safebrowsing.downloads.enabled': false,\n            'browser.safebrowsing.malware.enabled': false,\n            'browser.safebrowsing.passwords.enabled': false,\n            'browser.safebrowsing.phishing.enabled': false,\n            // Disable updates to search engines.\n            'browser.search.update': false,\n            // Do not restore the last open set of tabs if the browser has crashed\n            'browser.sessionstore.resume_from_crash': false,\n            // Skip check for default browser on startup\n            'browser.shell.checkDefaultBrowser': false,\n            // Disable newtabpage\n            'browser.startup.homepage': 'about:blank',\n            // Do not redirect user when a milstone upgrade of Firefox is detected\n            'browser.startup.homepage_override.mstone': 'ignore',\n            // Start with a blank page about:blank\n            'browser.startup.page': 0,\n            // Do not allow background tabs to be zombified on Android: otherwise for\n            // tests that open additional tabs: the test harness tab itself might get\n            // unloaded\n            'browser.tabs.disableBackgroundZombification': false,\n            // Do not warn when closing all other open tabs\n            'browser.tabs.warnOnCloseOtherTabs': false,\n            // Do not warn when multiple tabs will be opened\n            'browser.tabs.warnOnOpen': false,\n            // Disable the UI tour.\n            'browser.uitour.enabled': false,\n            // Turn off search suggestions in the location bar so as not to trigger\n            // network connections.\n            'browser.urlbar.suggest.searches': false,\n            // Disable first run splash page on Windows 10\n            'browser.usedOnWindows10.introURL': '',\n            // Do not warn on quitting Firefox\n            'browser.warnOnQuit': false,\n            // Do not show datareporting policy notifications which can\n            // interfere with tests\n            'datareporting.healthreport.about.reportUrl': `http://${server}/dummy/abouthealthreport/`,\n            'datareporting.healthreport.documentServerURI': `http://${server}/dummy/healthreport/`,\n            'datareporting.healthreport.logging.consoleEnabled': false,\n            'datareporting.healthreport.service.enabled': false,\n            'datareporting.healthreport.service.firstRun': false,\n            'datareporting.healthreport.uploadEnabled': false,\n            'datareporting.policy.dataSubmissionEnabled': false,\n            'datareporting.policy.dataSubmissionPolicyAccepted': false,\n            'datareporting.policy.dataSubmissionPolicyBypassNotification': true,\n            // DevTools JSONViewer sometimes fails to load dependencies with its require.js.\n            // This doesn't affect Puppeteer but spams console (Bug 1424372)\n            'devtools.jsonview.enabled': false,\n            // Disable popup-blocker\n            'dom.disable_open_during_load': false,\n            // Enable the support for File object creation in the content process\n            // Required for |Page.setFileInputFiles| protocol method.\n            'dom.file.createInChild': true,\n            // Disable the ProcessHangMonitor\n            'dom.ipc.reportProcessHangs': false,\n            // Disable slow script dialogues\n            'dom.max_chrome_script_run_time': 0,\n            'dom.max_script_run_time': 0,\n            // Only load extensions from the application and user profile\n            // AddonManager.SCOPE_PROFILE + AddonManager.SCOPE_APPLICATION\n            'extensions.autoDisableScopes': 0,\n            'extensions.enabledScopes': 5,\n            // Disable metadata caching for installed add-ons by default\n            'extensions.getAddons.cache.enabled': false,\n            // Disable installing any distribution extensions or add-ons.\n            'extensions.installDistroAddons': false,\n            // Disabled screenshots extension\n            'extensions.screenshots.disabled': true,\n            // Turn off extension updates so they do not bother tests\n            'extensions.update.enabled': false,\n            // Turn off extension updates so they do not bother tests\n            'extensions.update.notifyUser': false,\n            // Make sure opening about:addons will not hit the network\n            'extensions.webservice.discoverURL': `http://${server}/dummy/discoveryURL`,\n            // Allow the application to have focus even it runs in the background\n            'focusmanager.testmode': true,\n            // Disable useragent updates\n            'general.useragent.updates.enabled': false,\n            // Always use network provider for geolocation tests so we bypass the\n            // macOS dialog raised by the corelocation provider\n            'geo.provider.testing': true,\n            // Do not scan Wifi\n            'geo.wifi.scan': false,\n            // No hang monitor\n            'hangmonitor.timeout': 0,\n            // Show chrome errors and warnings in the error console\n            'javascript.options.showInConsole': true,\n            // Disable download and usage of OpenH264: and Widevine plugins\n            'media.gmp-manager.updateEnabled': false,\n            // Prevent various error message on the console\n            // jest-puppeteer asserts that no error message is emitted by the console\n            'network.cookie.cookieBehavior': 0,\n            // Do not prompt for temporary redirects\n            'network.http.prompt-temp-redirect': false,\n            // Disable speculative connections so they are not reported as leaking\n            // when they are hanging around\n            'network.http.speculative-parallel-limit': 0,\n            // Do not automatically switch between offline and online\n            'network.manage-offline-status': false,\n            // Make sure SNTP requests do not hit the network\n            'network.sntp.pools': server,\n            // Disable Flash.\n            'plugin.state.flash': 0,\n            'privacy.trackingprotection.enabled': false,\n            // Enable Remote Agent\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=1544393\n            'remote.enabled': true,\n            // Don't do network connections for mitm priming\n            'security.certerrors.mitm.priming.enabled': false,\n            // Local documents have access to all other local documents,\n            // including directory listings\n            'security.fileuri.strict_origin_policy': false,\n            // Do not wait for the notification button security delay\n            'security.notification_enable_delay': 0,\n            // Ensure blocklist updates do not hit the network\n            'services.settings.server': `http://${server}/dummy/blocklist/`,\n            // Do not automatically fill sign-in forms with known usernames and\n            // passwords\n            'signon.autofillForms': false,\n            // Disable password capture, so that tests that include forms are not\n            // influenced by the presence of the persistent doorhanger notification\n            'signon.rememberSignons': false,\n            // Disable first-run welcome page\n            'startup.homepage_welcome_url': 'about:blank',\n            // Disable first-run welcome page\n            'startup.homepage_welcome_url.additional': '',\n            // Disable browser animations (tabs, fullscreen, sliding alerts)\n            'toolkit.cosmeticAnimations.enabled': false,\n            // We want to collect telemetry, but we don't want to send in the results\n            'toolkit.telemetry.server': `https://${server}/dummy/telemetry/`,\n            // Prevent starting into safe mode after application crashes\n            'toolkit.startup.max_resumed_crashes': -1,\n        };\n        Object.assign(defaultPreferences, extraPrefs);\n        for (const [key, value] of Object.entries(defaultPreferences))\n            userJS.push(`user_pref(${JSON.stringify(key)}, ${JSON.stringify(value)});`);\n        await writeFileAsync(path.join(profilePath, 'user.js'), userJS.join('\\n'));\n        await writeFileAsync(path.join(profilePath, 'prefs.js'), prefsJS.join('\\n'));\n        return profilePath;\n    }\n}\nfunction getWSEndpoint(browserURL) {\n    let resolve, reject;\n    const promise = new Promise((res, rej) => {\n        resolve = res;\n        reject = rej;\n    });\n    const endpointURL = URL.resolve(browserURL, '/json/version');\n    const protocol = endpointURL.startsWith('https') ? https : http;\n    const requestOptions = Object.assign(URL.parse(endpointURL), {\n        method: 'GET',\n    });\n    const request = protocol.request(requestOptions, (res) => {\n        let data = '';\n        if (res.statusCode !== 200) {\n            // Consume response data to free up memory.\n            res.resume();\n            reject(new Error('HTTP ' + res.statusCode));\n            return;\n        }\n        res.setEncoding('utf8');\n        res.on('data', (chunk) => (data += chunk));\n        res.on('end', () => resolve(JSON.parse(data).webSocketDebuggerUrl));\n    });\n    request.on('error', reject);\n    request.end();\n    return promise.catch((error) => {\n        error.message =\n            `Failed to fetch browser webSocket url from ${endpointURL}: ` +\n                error.message;\n        throw error;\n    });\n}\nfunction resolveExecutablePath(launcher) {\n    let downloadPath;\n    // puppeteer-core doesn't take into account PUPPETEER_* env variables.\n    if (!launcher._isPuppeteerCore) {\n        const executablePath = process.env.PUPPETEER_EXECUTABLE_PATH ||\n            process.env.npm_config_puppeteer_executable_path ||\n            process.env.npm_package_config_puppeteer_executable_path;\n        if (executablePath) {\n            const missingText = !fs.existsSync(executablePath)\n                ? 'Tried to use PUPPETEER_EXECUTABLE_PATH env variable to launch browser but did not find any executable at: ' +\n                    executablePath\n                : null;\n            return { executablePath, missingText };\n        }\n        downloadPath =\n            process.env.PUPPETEER_DOWNLOAD_PATH ||\n                process.env.npm_config_puppeteer_download_path ||\n                process.env.npm_package_config_puppeteer_download_path;\n    }\n    const browserFetcher = new BrowserFetcher_js_1.BrowserFetcher(launcher._projectRoot, {\n        product: launcher.product,\n        path: downloadPath,\n    });\n    if (!launcher._isPuppeteerCore && launcher.product === 'chrome') {\n        const revision = process.env['PUPPETEER_CHROMIUM_REVISION'];\n        if (revision) {\n            const revisionInfo = browserFetcher.revisionInfo(revision);\n            const missingText = !revisionInfo.local\n                ? 'Tried to use PUPPETEER_CHROMIUM_REVISION env variable to launch browser but did not find executable at: ' +\n                    revisionInfo.executablePath\n                : null;\n            return { executablePath: revisionInfo.executablePath, missingText };\n        }\n    }\n    const revisionInfo = browserFetcher.revisionInfo(launcher._preferredRevision);\n    const missingText = !revisionInfo.local\n        ? `Could not find browser revision ${launcher._preferredRevision}. Run \"PUPPETEER_PRODUCT=firefox npm install\" or \"PUPPETEER_PRODUCT=firefox yarn install\" to download a supported Firefox browser binary.`\n        : null;\n    return { executablePath: revisionInfo.executablePath, missingText };\n}\n/**\n * @internal\n */\nfunction Launcher(projectRoot, preferredRevision, isPuppeteerCore, product) {\n    // puppeteer-core doesn't take into account PUPPETEER_* env variables.\n    if (!product && !isPuppeteerCore)\n        product =\n            process.env.PUPPETEER_PRODUCT ||\n                process.env.npm_config_puppeteer_product ||\n                process.env.npm_package_config_puppeteer_product;\n    switch (product) {\n        case 'firefox':\n            return new FirefoxLauncher(projectRoot, preferredRevision, isPuppeteerCore);\n        case 'chrome':\n        default:\n            if (typeof product !== 'undefined' && product !== 'chrome') {\n                /* The user gave us an incorrect product name\n                 * we'll default to launching Chrome, but log to the console\n                 * to let the user know (they've probably typoed).\n                 */\n                console.warn(`Warning: unknown product name ${product}. Falling back to chrome.`);\n            }\n            return new ChromeLauncher(projectRoot, preferredRevision, isPuppeteerCore);\n    }\n}\nexports.default = Launcher;\n"]},"metadata":{},"sourceType":"script"}