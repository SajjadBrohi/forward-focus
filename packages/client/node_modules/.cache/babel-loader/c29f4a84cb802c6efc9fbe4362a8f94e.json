{"ast":null,"code":"\"use strict\";\n/**\n * Copyright 2019 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LifecycleWatcher = void 0;\n\nconst assert_js_1 = require(\"./assert.js\");\n\nconst helper_js_1 = require(\"./helper.js\");\n\nconst Errors_js_1 = require(\"./Errors.js\");\n\nconst FrameManager_js_1 = require(\"./FrameManager.js\");\n\nconst NetworkManager_js_1 = require(\"./NetworkManager.js\");\n\nconst Connection_js_1 = require(\"./Connection.js\");\n\nconst puppeteerToProtocolLifecycle = new Map([['load', 'load'], ['domcontentloaded', 'DOMContentLoaded'], ['networkidle0', 'networkIdle'], ['networkidle2', 'networkAlmostIdle']]);\n/**\n * @internal\n */\n\nclass LifecycleWatcher {\n  constructor(frameManager, frame, waitUntil, timeout) {\n    if (Array.isArray(waitUntil)) waitUntil = waitUntil.slice();else if (typeof waitUntil === 'string') waitUntil = [waitUntil];\n    this._expectedLifecycle = waitUntil.map(value => {\n      const protocolEvent = puppeteerToProtocolLifecycle.get(value);\n      assert_js_1.assert(protocolEvent, 'Unknown value for options.waitUntil: ' + value);\n      return protocolEvent;\n    });\n    this._frameManager = frameManager;\n    this._frame = frame;\n    this._initialLoaderId = frame._loaderId;\n    this._timeout = timeout;\n    this._navigationRequest = null;\n    this._eventListeners = [helper_js_1.helper.addEventListener(frameManager._client, Connection_js_1.CDPSessionEmittedEvents.Disconnected, () => this._terminate(new Error('Navigation failed because browser has disconnected!'))), helper_js_1.helper.addEventListener(this._frameManager, FrameManager_js_1.FrameManagerEmittedEvents.LifecycleEvent, this._checkLifecycleComplete.bind(this)), helper_js_1.helper.addEventListener(this._frameManager, FrameManager_js_1.FrameManagerEmittedEvents.FrameNavigatedWithinDocument, this._navigatedWithinDocument.bind(this)), helper_js_1.helper.addEventListener(this._frameManager, FrameManager_js_1.FrameManagerEmittedEvents.FrameDetached, this._onFrameDetached.bind(this)), helper_js_1.helper.addEventListener(this._frameManager.networkManager(), NetworkManager_js_1.NetworkManagerEmittedEvents.Request, this._onRequest.bind(this))];\n    this._sameDocumentNavigationPromise = new Promise(fulfill => {\n      this._sameDocumentNavigationCompleteCallback = fulfill;\n    });\n    this._lifecyclePromise = new Promise(fulfill => {\n      this._lifecycleCallback = fulfill;\n    });\n    this._newDocumentNavigationPromise = new Promise(fulfill => {\n      this._newDocumentNavigationCompleteCallback = fulfill;\n    });\n    this._timeoutPromise = this._createTimeoutPromise();\n    this._terminationPromise = new Promise(fulfill => {\n      this._terminationCallback = fulfill;\n    });\n\n    this._checkLifecycleComplete();\n  }\n\n  _onRequest(request) {\n    if (request.frame() !== this._frame || !request.isNavigationRequest()) return;\n    this._navigationRequest = request;\n  }\n\n  _onFrameDetached(frame) {\n    if (this._frame === frame) {\n      this._terminationCallback.call(null, new Error('Navigating frame was detached'));\n\n      return;\n    }\n\n    this._checkLifecycleComplete();\n  }\n\n  navigationResponse() {\n    return this._navigationRequest ? this._navigationRequest.response() : null;\n  }\n\n  _terminate(error) {\n    this._terminationCallback.call(null, error);\n  }\n\n  sameDocumentNavigationPromise() {\n    return this._sameDocumentNavigationPromise;\n  }\n\n  newDocumentNavigationPromise() {\n    return this._newDocumentNavigationPromise;\n  }\n\n  lifecyclePromise() {\n    return this._lifecyclePromise;\n  }\n\n  timeoutOrTerminationPromise() {\n    return Promise.race([this._timeoutPromise, this._terminationPromise]);\n  }\n\n  _createTimeoutPromise() {\n    if (!this._timeout) return new Promise(() => {});\n    const errorMessage = 'Navigation timeout of ' + this._timeout + ' ms exceeded';\n    return new Promise(fulfill => this._maximumTimer = setTimeout(fulfill, this._timeout)).then(() => new Errors_js_1.TimeoutError(errorMessage));\n  }\n\n  _navigatedWithinDocument(frame) {\n    if (frame !== this._frame) return;\n    this._hasSameDocumentNavigation = true;\n\n    this._checkLifecycleComplete();\n  }\n\n  _checkLifecycleComplete() {\n    // We expect navigation to commit.\n    if (!checkLifecycle(this._frame, this._expectedLifecycle)) return;\n\n    this._lifecycleCallback();\n\n    if (this._frame._loaderId === this._initialLoaderId && !this._hasSameDocumentNavigation) return;\n    if (this._hasSameDocumentNavigation) this._sameDocumentNavigationCompleteCallback();\n    if (this._frame._loaderId !== this._initialLoaderId) this._newDocumentNavigationCompleteCallback();\n    /**\n     * @param {!Frame} frame\n     * @param {!Array<string>} expectedLifecycle\n     * @returns {boolean}\n     */\n\n    function checkLifecycle(frame, expectedLifecycle) {\n      for (const event of expectedLifecycle) {\n        if (!frame._lifecycleEvents.has(event)) return false;\n      }\n\n      for (const child of frame.childFrames()) {\n        if (!checkLifecycle(child, expectedLifecycle)) return false;\n      }\n\n      return true;\n    }\n  }\n\n  dispose() {\n    helper_js_1.helper.removeEventListeners(this._eventListeners);\n    clearTimeout(this._maximumTimer);\n  }\n\n}\n\nexports.LifecycleWatcher = LifecycleWatcher;","map":{"version":3,"sources":["C:/Users/Sajjad Brohi/JavaScript Projects/RESTful API/packages/client/node_modules/puppeteer/lib/cjs/puppeteer/common/LifecycleWatcher.js"],"names":["Object","defineProperty","exports","value","LifecycleWatcher","assert_js_1","require","helper_js_1","Errors_js_1","FrameManager_js_1","NetworkManager_js_1","Connection_js_1","puppeteerToProtocolLifecycle","Map","constructor","frameManager","frame","waitUntil","timeout","Array","isArray","slice","_expectedLifecycle","map","protocolEvent","get","assert","_frameManager","_frame","_initialLoaderId","_loaderId","_timeout","_navigationRequest","_eventListeners","helper","addEventListener","_client","CDPSessionEmittedEvents","Disconnected","_terminate","Error","FrameManagerEmittedEvents","LifecycleEvent","_checkLifecycleComplete","bind","FrameNavigatedWithinDocument","_navigatedWithinDocument","FrameDetached","_onFrameDetached","networkManager","NetworkManagerEmittedEvents","Request","_onRequest","_sameDocumentNavigationPromise","Promise","fulfill","_sameDocumentNavigationCompleteCallback","_lifecyclePromise","_lifecycleCallback","_newDocumentNavigationPromise","_newDocumentNavigationCompleteCallback","_timeoutPromise","_createTimeoutPromise","_terminationPromise","_terminationCallback","request","isNavigationRequest","call","navigationResponse","response","error","sameDocumentNavigationPromise","newDocumentNavigationPromise","lifecyclePromise","timeoutOrTerminationPromise","race","errorMessage","_maximumTimer","setTimeout","then","TimeoutError","_hasSameDocumentNavigation","checkLifecycle","expectedLifecycle","event","_lifecycleEvents","has","child","childFrames","dispose","removeEventListeners","clearTimeout"],"mappings":"AAAA;AACA;;;;;;;;;;;;;;;;AAeAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,gBAAR,GAA2B,KAAK,CAAhC;;AACA,MAAMC,WAAW,GAAGC,OAAO,CAAC,aAAD,CAA3B;;AACA,MAAMC,WAAW,GAAGD,OAAO,CAAC,aAAD,CAA3B;;AACA,MAAME,WAAW,GAAGF,OAAO,CAAC,aAAD,CAA3B;;AACA,MAAMG,iBAAiB,GAAGH,OAAO,CAAC,mBAAD,CAAjC;;AACA,MAAMI,mBAAmB,GAAGJ,OAAO,CAAC,qBAAD,CAAnC;;AACA,MAAMK,eAAe,GAAGL,OAAO,CAAC,iBAAD,CAA/B;;AACA,MAAMM,4BAA4B,GAAG,IAAIC,GAAJ,CAAQ,CACzC,CAAC,MAAD,EAAS,MAAT,CADyC,EAEzC,CAAC,kBAAD,EAAqB,kBAArB,CAFyC,EAGzC,CAAC,cAAD,EAAiB,aAAjB,CAHyC,EAIzC,CAAC,cAAD,EAAiB,mBAAjB,CAJyC,CAAR,CAArC;AAMA;;;;AAGA,MAAMT,gBAAN,CAAuB;AACnBU,EAAAA,WAAW,CAACC,YAAD,EAAeC,KAAf,EAAsBC,SAAtB,EAAiCC,OAAjC,EAA0C;AACjD,QAAIC,KAAK,CAACC,OAAN,CAAcH,SAAd,CAAJ,EACIA,SAAS,GAAGA,SAAS,CAACI,KAAV,EAAZ,CADJ,KAEK,IAAI,OAAOJ,SAAP,KAAqB,QAAzB,EACDA,SAAS,GAAG,CAACA,SAAD,CAAZ;AACJ,SAAKK,kBAAL,GAA0BL,SAAS,CAACM,GAAV,CAAepB,KAAD,IAAW;AAC/C,YAAMqB,aAAa,GAAGZ,4BAA4B,CAACa,GAA7B,CAAiCtB,KAAjC,CAAtB;AACAE,MAAAA,WAAW,CAACqB,MAAZ,CAAmBF,aAAnB,EAAkC,0CAA0CrB,KAA5E;AACA,aAAOqB,aAAP;AACH,KAJyB,CAA1B;AAKA,SAAKG,aAAL,GAAqBZ,YAArB;AACA,SAAKa,MAAL,GAAcZ,KAAd;AACA,SAAKa,gBAAL,GAAwBb,KAAK,CAACc,SAA9B;AACA,SAAKC,QAAL,GAAgBb,OAAhB;AACA,SAAKc,kBAAL,GAA0B,IAA1B;AACA,SAAKC,eAAL,GAAuB,CACnB1B,WAAW,CAAC2B,MAAZ,CAAmBC,gBAAnB,CAAoCpB,YAAY,CAACqB,OAAjD,EAA0DzB,eAAe,CAAC0B,uBAAhB,CAAwCC,YAAlG,EAAgH,MAAM,KAAKC,UAAL,CAAgB,IAAIC,KAAJ,CAAU,qDAAV,CAAhB,CAAtH,CADmB,EAEnBjC,WAAW,CAAC2B,MAAZ,CAAmBC,gBAAnB,CAAoC,KAAKR,aAAzC,EAAwDlB,iBAAiB,CAACgC,yBAAlB,CAA4CC,cAApG,EAAoH,KAAKC,uBAAL,CAA6BC,IAA7B,CAAkC,IAAlC,CAApH,CAFmB,EAGnBrC,WAAW,CAAC2B,MAAZ,CAAmBC,gBAAnB,CAAoC,KAAKR,aAAzC,EAAwDlB,iBAAiB,CAACgC,yBAAlB,CAA4CI,4BAApG,EAAkI,KAAKC,wBAAL,CAA8BF,IAA9B,CAAmC,IAAnC,CAAlI,CAHmB,EAInBrC,WAAW,CAAC2B,MAAZ,CAAmBC,gBAAnB,CAAoC,KAAKR,aAAzC,EAAwDlB,iBAAiB,CAACgC,yBAAlB,CAA4CM,aAApG,EAAmH,KAAKC,gBAAL,CAAsBJ,IAAtB,CAA2B,IAA3B,CAAnH,CAJmB,EAKnBrC,WAAW,CAAC2B,MAAZ,CAAmBC,gBAAnB,CAAoC,KAAKR,aAAL,CAAmBsB,cAAnB,EAApC,EAAyEvC,mBAAmB,CAACwC,2BAApB,CAAgDC,OAAzH,EAAkI,KAAKC,UAAL,CAAgBR,IAAhB,CAAqB,IAArB,CAAlI,CALmB,CAAvB;AAOA,SAAKS,8BAAL,GAAsC,IAAIC,OAAJ,CAAaC,OAAD,IAAa;AAC3D,WAAKC,uCAAL,GAA+CD,OAA/C;AACH,KAFqC,CAAtC;AAGA,SAAKE,iBAAL,GAAyB,IAAIH,OAAJ,CAAaC,OAAD,IAAa;AAC9C,WAAKG,kBAAL,GAA0BH,OAA1B;AACH,KAFwB,CAAzB;AAGA,SAAKI,6BAAL,GAAqC,IAAIL,OAAJ,CAAaC,OAAD,IAAa;AAC1D,WAAKK,sCAAL,GAA8CL,OAA9C;AACH,KAFoC,CAArC;AAGA,SAAKM,eAAL,GAAuB,KAAKC,qBAAL,EAAvB;AACA,SAAKC,mBAAL,GAA2B,IAAIT,OAAJ,CAAaC,OAAD,IAAa;AAChD,WAAKS,oBAAL,GAA4BT,OAA5B;AACH,KAF0B,CAA3B;;AAGA,SAAKZ,uBAAL;AACH;;AACDS,EAAAA,UAAU,CAACa,OAAD,EAAU;AAChB,QAAIA,OAAO,CAACjD,KAAR,OAAoB,KAAKY,MAAzB,IAAmC,CAACqC,OAAO,CAACC,mBAAR,EAAxC,EACI;AACJ,SAAKlC,kBAAL,GAA0BiC,OAA1B;AACH;;AACDjB,EAAAA,gBAAgB,CAAChC,KAAD,EAAQ;AACpB,QAAI,KAAKY,MAAL,KAAgBZ,KAApB,EAA2B;AACvB,WAAKgD,oBAAL,CAA0BG,IAA1B,CAA+B,IAA/B,EAAqC,IAAI3B,KAAJ,CAAU,+BAAV,CAArC;;AACA;AACH;;AACD,SAAKG,uBAAL;AACH;;AACDyB,EAAAA,kBAAkB,GAAG;AACjB,WAAO,KAAKpC,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBqC,QAAxB,EAA1B,GAA+D,IAAtE;AACH;;AACD9B,EAAAA,UAAU,CAAC+B,KAAD,EAAQ;AACd,SAAKN,oBAAL,CAA0BG,IAA1B,CAA+B,IAA/B,EAAqCG,KAArC;AACH;;AACDC,EAAAA,6BAA6B,GAAG;AAC5B,WAAO,KAAKlB,8BAAZ;AACH;;AACDmB,EAAAA,4BAA4B,GAAG;AAC3B,WAAO,KAAKb,6BAAZ;AACH;;AACDc,EAAAA,gBAAgB,GAAG;AACf,WAAO,KAAKhB,iBAAZ;AACH;;AACDiB,EAAAA,2BAA2B,GAAG;AAC1B,WAAOpB,OAAO,CAACqB,IAAR,CAAa,CAAC,KAAKd,eAAN,EAAuB,KAAKE,mBAA5B,CAAb,CAAP;AACH;;AACDD,EAAAA,qBAAqB,GAAG;AACpB,QAAI,CAAC,KAAK/B,QAAV,EACI,OAAO,IAAIuB,OAAJ,CAAY,MAAM,CAAG,CAArB,CAAP;AACJ,UAAMsB,YAAY,GAAG,2BAA2B,KAAK7C,QAAhC,GAA2C,cAAhE;AACA,WAAO,IAAIuB,OAAJ,CAAaC,OAAD,IAAc,KAAKsB,aAAL,GAAqBC,UAAU,CAACvB,OAAD,EAAU,KAAKxB,QAAf,CAAzD,EAAoFgD,IAApF,CAAyF,MAAM,IAAIvE,WAAW,CAACwE,YAAhB,CAA6BJ,YAA7B,CAA/F,CAAP;AACH;;AACD9B,EAAAA,wBAAwB,CAAC9B,KAAD,EAAQ;AAC5B,QAAIA,KAAK,KAAK,KAAKY,MAAnB,EACI;AACJ,SAAKqD,0BAAL,GAAkC,IAAlC;;AACA,SAAKtC,uBAAL;AACH;;AACDA,EAAAA,uBAAuB,GAAG;AACtB;AACA,QAAI,CAACuC,cAAc,CAAC,KAAKtD,MAAN,EAAc,KAAKN,kBAAnB,CAAnB,EACI;;AACJ,SAAKoC,kBAAL;;AACA,QAAI,KAAK9B,MAAL,CAAYE,SAAZ,KAA0B,KAAKD,gBAA/B,IACA,CAAC,KAAKoD,0BADV,EAEI;AACJ,QAAI,KAAKA,0BAAT,EACI,KAAKzB,uCAAL;AACJ,QAAI,KAAK5B,MAAL,CAAYE,SAAZ,KAA0B,KAAKD,gBAAnC,EACI,KAAK+B,sCAAL;AACJ;;;;;;AAKA,aAASsB,cAAT,CAAwBlE,KAAxB,EAA+BmE,iBAA/B,EAAkD;AAC9C,WAAK,MAAMC,KAAX,IAAoBD,iBAApB,EAAuC;AACnC,YAAI,CAACnE,KAAK,CAACqE,gBAAN,CAAuBC,GAAvB,CAA2BF,KAA3B,CAAL,EACI,OAAO,KAAP;AACP;;AACD,WAAK,MAAMG,KAAX,IAAoBvE,KAAK,CAACwE,WAAN,EAApB,EAAyC;AACrC,YAAI,CAACN,cAAc,CAACK,KAAD,EAAQJ,iBAAR,CAAnB,EACI,OAAO,KAAP;AACP;;AACD,aAAO,IAAP;AACH;AACJ;;AACDM,EAAAA,OAAO,GAAG;AACNlF,IAAAA,WAAW,CAAC2B,MAAZ,CAAmBwD,oBAAnB,CAAwC,KAAKzD,eAA7C;AACA0D,IAAAA,YAAY,CAAC,KAAKd,aAAN,CAAZ;AACH;;AAhHkB;;AAkHvB3E,OAAO,CAACE,gBAAR,GAA2BA,gBAA3B","sourcesContent":["\"use strict\";\n/**\n * Copyright 2019 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LifecycleWatcher = void 0;\nconst assert_js_1 = require(\"./assert.js\");\nconst helper_js_1 = require(\"./helper.js\");\nconst Errors_js_1 = require(\"./Errors.js\");\nconst FrameManager_js_1 = require(\"./FrameManager.js\");\nconst NetworkManager_js_1 = require(\"./NetworkManager.js\");\nconst Connection_js_1 = require(\"./Connection.js\");\nconst puppeteerToProtocolLifecycle = new Map([\n    ['load', 'load'],\n    ['domcontentloaded', 'DOMContentLoaded'],\n    ['networkidle0', 'networkIdle'],\n    ['networkidle2', 'networkAlmostIdle'],\n]);\n/**\n * @internal\n */\nclass LifecycleWatcher {\n    constructor(frameManager, frame, waitUntil, timeout) {\n        if (Array.isArray(waitUntil))\n            waitUntil = waitUntil.slice();\n        else if (typeof waitUntil === 'string')\n            waitUntil = [waitUntil];\n        this._expectedLifecycle = waitUntil.map((value) => {\n            const protocolEvent = puppeteerToProtocolLifecycle.get(value);\n            assert_js_1.assert(protocolEvent, 'Unknown value for options.waitUntil: ' + value);\n            return protocolEvent;\n        });\n        this._frameManager = frameManager;\n        this._frame = frame;\n        this._initialLoaderId = frame._loaderId;\n        this._timeout = timeout;\n        this._navigationRequest = null;\n        this._eventListeners = [\n            helper_js_1.helper.addEventListener(frameManager._client, Connection_js_1.CDPSessionEmittedEvents.Disconnected, () => this._terminate(new Error('Navigation failed because browser has disconnected!'))),\n            helper_js_1.helper.addEventListener(this._frameManager, FrameManager_js_1.FrameManagerEmittedEvents.LifecycleEvent, this._checkLifecycleComplete.bind(this)),\n            helper_js_1.helper.addEventListener(this._frameManager, FrameManager_js_1.FrameManagerEmittedEvents.FrameNavigatedWithinDocument, this._navigatedWithinDocument.bind(this)),\n            helper_js_1.helper.addEventListener(this._frameManager, FrameManager_js_1.FrameManagerEmittedEvents.FrameDetached, this._onFrameDetached.bind(this)),\n            helper_js_1.helper.addEventListener(this._frameManager.networkManager(), NetworkManager_js_1.NetworkManagerEmittedEvents.Request, this._onRequest.bind(this)),\n        ];\n        this._sameDocumentNavigationPromise = new Promise((fulfill) => {\n            this._sameDocumentNavigationCompleteCallback = fulfill;\n        });\n        this._lifecyclePromise = new Promise((fulfill) => {\n            this._lifecycleCallback = fulfill;\n        });\n        this._newDocumentNavigationPromise = new Promise((fulfill) => {\n            this._newDocumentNavigationCompleteCallback = fulfill;\n        });\n        this._timeoutPromise = this._createTimeoutPromise();\n        this._terminationPromise = new Promise((fulfill) => {\n            this._terminationCallback = fulfill;\n        });\n        this._checkLifecycleComplete();\n    }\n    _onRequest(request) {\n        if (request.frame() !== this._frame || !request.isNavigationRequest())\n            return;\n        this._navigationRequest = request;\n    }\n    _onFrameDetached(frame) {\n        if (this._frame === frame) {\n            this._terminationCallback.call(null, new Error('Navigating frame was detached'));\n            return;\n        }\n        this._checkLifecycleComplete();\n    }\n    navigationResponse() {\n        return this._navigationRequest ? this._navigationRequest.response() : null;\n    }\n    _terminate(error) {\n        this._terminationCallback.call(null, error);\n    }\n    sameDocumentNavigationPromise() {\n        return this._sameDocumentNavigationPromise;\n    }\n    newDocumentNavigationPromise() {\n        return this._newDocumentNavigationPromise;\n    }\n    lifecyclePromise() {\n        return this._lifecyclePromise;\n    }\n    timeoutOrTerminationPromise() {\n        return Promise.race([this._timeoutPromise, this._terminationPromise]);\n    }\n    _createTimeoutPromise() {\n        if (!this._timeout)\n            return new Promise(() => { });\n        const errorMessage = 'Navigation timeout of ' + this._timeout + ' ms exceeded';\n        return new Promise((fulfill) => (this._maximumTimer = setTimeout(fulfill, this._timeout))).then(() => new Errors_js_1.TimeoutError(errorMessage));\n    }\n    _navigatedWithinDocument(frame) {\n        if (frame !== this._frame)\n            return;\n        this._hasSameDocumentNavigation = true;\n        this._checkLifecycleComplete();\n    }\n    _checkLifecycleComplete() {\n        // We expect navigation to commit.\n        if (!checkLifecycle(this._frame, this._expectedLifecycle))\n            return;\n        this._lifecycleCallback();\n        if (this._frame._loaderId === this._initialLoaderId &&\n            !this._hasSameDocumentNavigation)\n            return;\n        if (this._hasSameDocumentNavigation)\n            this._sameDocumentNavigationCompleteCallback();\n        if (this._frame._loaderId !== this._initialLoaderId)\n            this._newDocumentNavigationCompleteCallback();\n        /**\n         * @param {!Frame} frame\n         * @param {!Array<string>} expectedLifecycle\n         * @returns {boolean}\n         */\n        function checkLifecycle(frame, expectedLifecycle) {\n            for (const event of expectedLifecycle) {\n                if (!frame._lifecycleEvents.has(event))\n                    return false;\n            }\n            for (const child of frame.childFrames()) {\n                if (!checkLifecycle(child, expectedLifecycle))\n                    return false;\n            }\n            return true;\n        }\n    }\n    dispose() {\n        helper_js_1.helper.removeEventListeners(this._eventListeners);\n        clearTimeout(this._maximumTimer);\n    }\n}\nexports.LifecycleWatcher = LifecycleWatcher;\n"]},"metadata":{},"sourceType":"script"}